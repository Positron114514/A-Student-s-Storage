#软件工程与计算 #python #程序设计 #OOP 

> PPT: [[../钮老师课件/09 编程进阶-面向对象.pdf|09 编程进阶-面向对象]]


封装 继承 多态

**对象隐喻**: 将计算视为多个对象个体交互的过程:

- 每个对象有自己的局部状态和相应方法管理自己的局部状态
- 对象之间可以进行交互，而有效的计算可以视为对象之间交互的结果 
- 同样类型的对象共享一些行为 
- 某个类型的对象可以“继承”其相关类型对象的一些信息

**术语**: 

- 类: 
- 对象
- 实例变量 (数据成员)
- 方法

# 类抽象

[[../../Programming/python/python学习笔记#七. ../Miscell/面向对象编程思想 面向对象编程|OOP in python]]

```python
class <name>:
	<suite>
```

类的构造:

```python
class Product:
	def __init__(self, name, price, info):
		self._name = name
		self._price = price
		self._info = info
```

方法: 定义在类里面的函数

```python
class Product:
	def __init__(self, name=str, price=int, info=str):
		self._name = name
		self._price = price
		self._info = info
		self._inventory = 0

	@property
	def get_name(self):
		return self._name

	@setter
	def set_name(self, name):
		self._name = name

	@property
	def get_price(self):
		return self._price

	@setter
	def set_price(self, price):
		self._price = price
```

方法调用

```python
chocolate = Product("chocolate", 10, "sugar: 10%")

chocolate.get_name() # "chocolate"
chocolate.set_name("shit")
```

**对象同一性**:

每次调用 `<name>(args)` 构造的都是不同的个体

使用 `is` 判断是否为同一个个体

使用 `__eq__(self, other)` 来重载 == 运算符

```python
class Product:
	...
	def __eq__(self, other):
		return self.get_name() == other.get_name() and self.get_price == other.get_price()
```

- 选择子: 获得对象的实例变量的值的方法
- 变异子: 改变对象实例变量的值的方法

`.` 的属性查找:

- 首先查找该对象中的相应属性，如果找到，直接返回其值 
- 否则，就去找类中名字为 `<name>` 的属性，即类属性，返回其值
- 如果类中也没有相应的属性，会产生一个AttributeError的 异常

**类变量**: 在类中 (不在方法中) 包含的数据属性, 由所有对象共享, 为隶属于类自身的属性

```python
class Product:
	sales_tax = 0.07

pina_bar.sales_tax # 0.07
```

即 其他语言中的 `static` 变量和方法

**python的特性**:

```python
p1 = Product()
p2 = Product()

p1.sales_tax = 10 # 此处新建了一个实例变量
p2.sales_tax # 0.07
Product.sales_tax # 0.07
Product.sales_tax = 20 
p2.sales_tax # 20
p1.sales_tax # 10
```

## 动态创建类

```python
type(my_object) # MyClass
type(MyClass) # MetaClass
```

`type` 即为 python 中的 `metaclass`

```python
class consPro(self, name, price, info):
	...

Product = type('Product', (object,), dict(__init__ = consPro))
```

# 2. 封装性

`public` and `private`

约定 :

- __ 
- _
- no
